# Coin项目需求文档

> 更新时间：2025-11-23 17:58:00
> 版本：1.0.0
> 项目名称：Astra Ai - AI算力挖矿平台

## 项目概述

Coin项目是一个基于Flutter开发的加密货币挖矿和空投应用程序，应用名为"Astra Ai"，主打AI算力挖矿概念，为用户提供参与加密货币挖矿和获取空投奖励的移动端平台。

### 核心功能
- 算力购买与管理
- 会员等级系统
- 空投活动参与
- 任务加速系统
- 邀请奖励机制
- 资产管理中心
- 实时聊天客服
- KYC身份认证

### 目标用户
- 加密货币爱好者
- AI算力需求者
- 空投活动参与者
- 投资理财用户

### 技术特点
- 响应式设计，适配多设备
- 实时数据更新
- 安全的资金管理
- 多语言支持（中英文）
- 完善的错误处理机制

---

## 详细功能需求

### 1. 用户认证模块

#### 1.1 用户注册
**需求描述**: 新用户创建账号
**功能要求**:
- 支持用户名、密码注册
- 密码强度验证
- 用户协议确认
- 注册成功自动登录
- 防重复用户名检查

**业务流程**:
1. 用户输入注册信息
2. 前端验证信息格式
3. 调用注册API
4. 返回注册结果
5. 自动登录并跳转到主页

**验收标准**:
- 注册成功率 ≥ 99%
- 密码安全强度符合要求
- 用户名唯一性验证
- 注册流程 ≤ 30秒

#### 1.2 用户登录
**需求描述**: 已注册用户身份验证
**功能要求**:
- 用户名/密码登录
- 登录状态持久化
- 自动登录功能
- 登录错误提示
- 登录次数限制

**业务流程**:
1. 用户输入登录凭证
2. 前端验证输入格式
3. 调用登录API
4. 返回用户信息和Token
5. 保存登录状态
6. 跳转到主页

**验收标准**:
- 登录响应时间 ≤ 2秒
- 支持记住登录状态
- 密码错误5次后锁定账户
- Token有效期管理

#### 1.3 密保问题设置
**需求描述**: 增强账户安全性的辅助验证
**功能要求**:
- 选择安全问答题目
- 设置答案验证
- 问题答案加密存储
- 支持修改密保问题

**业务流程**:
1. 用户进入密保设置页面
2. 选择安全问答题目
3. 输入答案并确认
4. 验证答案格式
5. 提交保存
6. 显示设置成功提示

**验收标准**:
- 至少设置3个密保问题
- 答案长度限制6-20字符
- 支持密保问题修改
- 安全答案不可逆加密

#### 1.4 忘记密码
**需求描述**: 通过密保问题找回密码
**功能要求**:
- 验证用户身份
- 密保问题验证
- 密码重置功能
- 安全通知发送

**业务流程**:
1. 用户输入用户名
2. 系统显示对应密保问题
3. 用户回答问题
4. 验证答案正确性
5. 设置新密码
6. 密码重置成功

**验收标准**:
- 密保问题验证准确率100%
- 新密码强度验证
- 重置成功后发送通知
- 防暴力破解机制

---

### 2. 首页展示模块

#### 2.1 用户数据统计
**需求描述**: 展示用户核心数据指标
**功能要求**:
- 每日收益实时显示
- 总收益累计统计
- 今日进度百分比
- 当前会员等级展示
- 数据自动刷新

**展示内容**:
- 每日收益 (DG币)
- 总收益 (DG币)
- 今日进度 (%)
- 当前等级 (LV.X)

**验收标准**:
- 数据更新延迟 ≤ 5秒
- 数值格式化显示
- 等级图标对应显示
- 支持点击查看详情

#### 2.2 轮播图展示
**需求描述**: 重要信息轮播展示
**功能要求**:
- 支持图片轮播
- 自动播放控制
- 手动滑动切换
- 点击跳转功能
- 指示器显示

**轮播内容**:
- 先进AI挖矿介绍
- 智能投资信息
- 全球网络展示
- 活动推广信息

**验收标准**:
- 轮播间隔 3-5秒
- 支持无限循环
- 图片加载优化
- 滑动流畅度 ≥ 60fps

#### 2.3 快捷操作入口
**需求描述**: 主要功能快速访问
**功能要求**:
- 九宫格布局展示
- 图标配文字说明
- 点击跳转对应页面
- 支持动态更新
- 未读消息提示

**快捷入口列表**:
1. 算力中心
2. 邀请奖励
3. 抢空投
4. 活动中心
5. 关于我们
6. 资产管理
7. 任务中心
8. 客服聊天
9. 个人中心

**验收标准**:
- 图标清晰易识别
- 布局响应式适配
- 点击响应时间 ≤ 200ms
- 支持自定义排序

#### 2.4 合作伙伴展示
**需求描述**: 展示平台合作伙伴信息
**功能要求**:
- 合作伙伴Logo展示
- 滚动列表显示
- 支持点击查看详情
- 动态内容更新

**展示内容**:
- 节点伙伴信息
- 主控机构
- 战略合作伙伴

**验收标准**:
- Logo高清显示
- 滚动流畅无卡顿
- 支持添加更多合作伙伴
- 加载错误时显示占位图

---

### 3. 算力管理模块

#### 3.1 算力概览
**需求描述**: 用户算力信息总览
**功能要求**:
- 当前算力总量显示
- 算力等级展示
- 每日收益计算
- 算力趋势图表
- 算力使用状态

**展示数据**:
- 算力总量 (TH/s)
- 当前等级 (LV.X)
- 每日收益 (DG/天)
- 算力趋势图 (7天/30天)
- 有效算力比例

**验收标准**:
- 数据准确性 100%
- 图表加载速度 ≤ 2秒
- 支持时间范围切换
- 算力状态实时更新

#### 3.2 算力包购买
**需求描述**: 不同等级算力包购买
**功能要求**:
- 多种算力包选择
- 价格和收益对比
- 购买流程引导
- 支付方式支持
- 购买记录查询

**算力包类型**:
1. **基础算力包**: 0-100 TH/s
2. **进阶算力包**: 100-500 TH/s
3. **专业算力包**: 500-1000 TH/s
4. **高级算力包**: 1000-5000 TH/s
5. **大师算力包**: 5000+ TH/s

**业务流程**:
1. 用户浏览算力包列表
2. 查看详细信息和收益
3. 选择适合的算力包
4. 确认购买信息
5. 选择支付方式
6. 完成支付
7. 算力生效

**验收标准**:
- 算力包信息准确完整
- 价格透明无隐藏费用
- 支付成功率 ≥ 99%
- 购买后算力实时生效

#### 3.3 算力历史记录
**需求描述**: 算力购买和使用历史
**功能要求**:
- 历史记录列表展示
- 状态标识显示
- 详细信息查看
- 筛选和搜索功能
- 分页加载支持

**记录信息**:
- 购买时间
- 算力包名称
- 算力数量
- 购买价格
- 到期时间
- 使用状态
- 收益统计

**验收标准**:
- 数据完整性 100%
- 支持多条件筛选
- 列表加载速度 ≤ 2秒
- 状态标识清晰准确

---

### 4. 空投活动模块

#### 4.1 空投活动列表
**需求描述**: 展示所有可参与的空投活动
**功能要求**:
- 活动分类展示
- 实时状态更新
- 参与条件检查
- 活动规则说明
- 倒计时显示

**空投类型**:
1. **每日空投**: 所有人可参与，每天定时抢
2. **VIP空投**: 需要会员等级限制
3. **新手空投**: 需要购买算力包
4. **限时空投**: 特殊活动限时抢
5. **公开奖**: 公开参与，随机获奖
6. **高级算力空投**: 算力持有者专享

**展示信息**:
- 活动标题和类型
- 参与条件要求
- 奖励金额范围
- 活动时间安排
- 当前参与人数

**验收标准**:
- 活动信息实时更新
- 参与资格准确判断
- 倒计时精准同步
- 活动状态及时反馈

#### 4.2 抢空投功能
**需求描述**: 用户参与空投活动的核心功能
**功能要求**:
- 一键参与抢空投
- 实时倒计时显示
- 参与结果即时反馈
- 成功率计算显示
- 防作弊机制

**参与流程**:
1. 用户查看空投活动
2. 检查参与资格
3. 等待开始倒计时
4. 点击"抢空投"按钮
5. 系统处理参与请求
6. 返回参与结果
7. 记录到历史

**技术要求**:
- 高并发处理能力
- 防重复点击机制
- 实时状态同步
- 公平的随机算法
- 异常情况处理

**验收标准**:
- 响应时间 ≤ 500ms
- 支持 10,000+ 并发用户
- 防作弊机制有效
- 结果准确率 100%

#### 4.3 空投历史记录
**需求描述**: 查看空投参与历史和结果
**功能要求**:
- 历史记录列表展示
- 参与状态显示
- 获得积分统计
- 详细信息查看
- 数据统计汇总

**记录内容**:
- 参与时间
- 空投活动名称
- 空投类型
- 获得积分
- 参与状态 (成功/失败)
- 失败原因 (如有)

**验收标准**:
- 历史记录完整准确
- 支持时间范围筛选
- 统计数据实时更新
- 加载性能优化

---

### 5. 任务系统模块

#### 5.1 任务分类管理
**需求描述**: 不同类型任务的分类展示
**功能要求**:
- 任务分类标签
- 任务列表展示
- 任务状态标识
- 任务筛选功能
- 任务搜索功能

**任务类型**:
1. **每日任务**: 每天可完成的常规任务
2. **新手任务**: 新用户专属任务
3. **成就任务**: 达成特定条件解锁
4. **特殊任务**: 限时特殊活动任务

**验收标准**:
- 任务分类清晰
- 状态标识准确
- 搜索响应快速
- 筛选功能有效

#### 5.2 任务详情展示
**需求描述**: 查看任务具体信息和要求
**功能要求**:
- 任务详细描述
- 完成条件说明
- 预期收益计算
- 任务难度标识
- 相关教程链接

**任务类型说明**:
- **文本训练**: AI文本数据处理任务
- **表格训练**: 结构化数据标注任务
- **图像训练**: 图像识别和分类任务
- **视频训练**: 视频内容分析任务

**展示信息**:
- 任务名称和类型
- 等级要求
- 预期收益 (DG币)
- 任务描述
- 完成步骤
- 注意事项

**验收标准**:
- 信息展示完整清晰
- 收益计算准确
- 等级要求明确
- 描述易于理解

#### 5.3 任务加速功能
**需求描述**: 用户可以加速已购买的任务
**功能要求**:
- 任务状态管理
- 加速时长选择
- 加速收益计算
- 加速历史记录
- 加速效果预览

**业务逻辑**:
- 用户购买任务后可选择加速
- 加速时间按小时计算
- 加速期间收益按倍数增长
- 加速消耗平台积分
- 支持暂停和恢复加速

**验收标准**:
- 加速计算准确无误
- 状态实时更新
- 消耗积分正确扣除
- 历史记录完整

---

### 6. 资产中心模块

#### 6.1 资产余额展示
**需求描述**: 用户各币种资产余额显示
**功能要求**:
- 多币种余额显示
- 实时汇率换算
- 资产总价值计算
- 收益统计展示
- 余额变动提醒

**支持币种**:
- **USDT**: 稳定币单位
- **DG**: 平台代币
- **BTC**: 比特币
- **ETH**: 以太坊
- 其他主流数字资产

**验收标准**:
- 余额数据准确实时
- 汇率更新及时
- 总价值计算正确
- 变动提醒及时

#### 6.2 币种兑换功能
**需求描述**: 支持不同币种之间的兑换
**功能要求**:
- 实时汇率显示
- 兑换金额计算
- 手续费透明显示
- 兑换确认机制
- 兑换历史记录

**兑换流程**:
1. 用户选择兑换币对
2. 输入兑换数量
3. 系统计算兑换结果
4. 显示手续费信息
5. 用户确认兑换
6. 执行兑换操作
7. 记录兑换历史

**验收标准**:
- 汇率实时准确
- 兑换计算无误
- 手续费透明
- 兑换成功率 ≥ 99.5%

#### 6.3 交易记录查询
**需求描述**: 查看所有交易历史记录
**功能要求**:
- 交易记录列表
- 多维度筛选
- 详情信息查看
- 数据导出功能
- 分页加载支持

**记录类型**:
- **充值记录**: 用户充值记录
- **兑换记录**: 币种兑换记录
- **提现记录**: 用户提现记录
- **收益记录**: 各类收益记录

**验收标准**:
- 记录数据完整
- 筛选功能有效
- 加载性能优化
- 导出格式正确

---

### 7. 邀请奖励模块

#### 7.1 邀请码管理
**需求描述**: 用户邀请码生成和管理
**功能要求**:
- 唯一邀请码生成
- 邀请码复制分享
- 邀请码有效性验证
- 邀请链接生成
- 邀请统计展示

**业务逻辑**:
- 每个用户生成唯一邀请码
- 邀请码可用于新用户注册
- 被邀请用户注册成功后建立关系
- 邀请关系永久有效
- 支持多级邀请奖励

**验收标准**:
- 邀请码唯一性 100%
- 复制分享功能正常
- 邀请统计准确
- 邀请关系建立成功

#### 7.2 邀请奖励机制
**需求描述**: 邀请好友获得奖励的系统
**功能要求**:
- 多级奖励计算
- 奖励实时发放
- 奖励历史查询
- 奖励规则说明
- 奖励提现功能

**奖励类型**:
- **注册奖励**: 好友注册成功获得奖励
- **消费奖励**: 好友消费获得分成奖励
- **升级奖励**: 好友升级获得等级奖励
- **活动奖励**: 邀请参与活动获得额外奖励

**验收标准**:
- 奖励计算准确
- 实时发放无延迟
- 奖励历史完整
- 提现功能正常

#### 7.3 邀请记录管理
**需求描述**: 查看邀请历史和关系网络
**功能要求**:
- 邀请列表展示
- 关系网络图
- 奖励统计汇总
- 邀请效果分析
- 数据导出功能

**统计信息**:
- 总邀请人数
- 直接邀请数量
- 间接邀请数量
- 累计奖励金额
- 活跃用户比例

**验收标准**:
- 数据统计准确
- 关系图展示清晰
- 分析数据有用
- 导出功能正常

---

### 8. 聊天客服模块

#### 8.1 实时聊天功能
**需求描述**: 用户与客服实时沟通
**功能要求**:
- 文本消息发送
- 实时消息接收
- 消息状态显示
- 聊天历史记录
- 离线消息支持

**消息类型**:
- 文本消息
- 图片消息
- 文件消息
- 系统消息

**验收标准**:
- 消息发送成功率 ≥ 99%
- 消息延迟 ≤ 1秒
- 支持离线消息
- 历史记录完整

#### 8.2 消息状态管理
**需求描述**: 消息发送和接收状态
**功能要求**:
- 发送状态显示 (发送中/已发送/已读)
- 接收确认机制
- 消息重发功能
- 消息撤回功能
- 消息已读回执

**状态类型**:
- 发送中
- 已发送
- 已送达
- 已读
- 发送失败

**验收标准**:
- 状态同步及时
- 已读状态准确
- 重发机制有效
- 撤回功能正常

---

### 9. 图表分析模块

#### 9.1 价格走势图表
**需求描述**: 加密货币价格走势展示
**功能要求**:
- K线图显示
- 多时间范围切换
- 技术指标展示
- 实时价格更新
- 图表交互操作

**时间范围**:
- 1分钟
- 5分钟
- 15分钟
- 30分钟
- 1小时
- 4小时
- 1天
- 1周

**技术指标**:
- MA均线
- MACD
- RSI
- 成交量

**验收标准**:
- 数据更新延迟 ≤ 5秒
- 图表渲染流畅
- 交互响应快速
- 指标计算准确

#### 9.2 实时价格监控
**需求描述**: 实时价格数据监控
**功能要求**:
- 实时价格推送
- 价格变动提醒
- 涨跌幅计算
- 交易量统计
- 市场概况展示

**监控指标**:
- 当前价格
- 24小时涨跌
- 24小时成交量
- 市值排名
- 市场占有率

**验收标准**:
- 价格更新实时
- 涨跌幅计算准确
- 提醒及时推送
- 数据来源可靠

---

### 10. KYC认证模块

#### 10.1 身份证上传
**需求描述**: 用户身份证照片上传和验证
**功能要求**:
- 正反面照片上传
- 图片质量检测
- OCR文字识别
- 信息自动填充
- 上传进度显示

**上传要求**:
- 图片格式: JPG/PNG
- 图片大小: ≤ 5MB
- 图片清晰度: 高清
- 信息完整性: 完整证件信息

**验收标准**:
- 上传成功率 ≥ 95%
- OCR识别准确率 ≥ 90%
- 图片压缩效果良好
- 上传速度合理

#### 10.2 人脸识别验证
**需求描述**: 活体人脸识别验证
**功能要求**:
- 实时人脸检测
- 活体检测
- 人脸比对
- 验证结果反馈
- 失败重试机制

**验证流程**:
1. 用户启动人脸识别
2. 系统检测人脸位置
3. 进行人脸活体检测
4. 与身份证照片比对
5. 返回验证结果

**验收标准**:
- 识别准确率 ≥ 99%
- 活体检测有效
- 验证时间 ≤ 30秒
- 支持多次重试

---

## 系统性能需求

### 1. 响应时间要求
- API接口响应时间 ≤ 2秒
- 页面加载时间 ≤ 3秒
- 图片加载时间 ≤ 5秒
- 实时数据更新延迟 ≤ 5秒

### 2. 并发处理能力
- 支持 10,000+ 在线用户
- 支持 1,000+ 并发抢空投
- 支持 500+ 并发交易
- 数据库连接池 ≥ 100

### 3. 数据准确性
- 用户数据准确率 100%
- 交易记录完整率 100%
- 收益计算准确率 100%
- 状态同步延迟 ≤ 1秒

### 4. 系统可用性
- 系统可用性 ≥ 99.9%
- 故障恢复时间 ≤ 10分钟
- 数据备份完整性 100%
- 安全事件响应 ≤ 1小时

---

## 安全需求

### 1. 身份认证安全
- 密码强度要求 (8位以上，包含字母数字特殊字符)
- 登录失败锁定机制 (5次失败锁定30分钟)
- Token过期和刷新机制
- 设备指纹识别

### 2. 数据传输安全
- HTTPS加密传输
- API接口签名验证
- 敏感数据加密存储
- 防SQL注入攻击

### 3. 资金安全
- 多重签名钱包
- 交易限额控制
- 异常交易监控
- 资金流水审计

### 4. 隐私保护
- 用户数据脱敏
- 访问权限控制
- 数据保留期限
- GDPR合规要求

---

## 用户体验需求

### 1. 界面设计
- 现代化UI设计风格
- 统一的视觉规范
- 适配不同屏幕尺寸
- 支持深色/浅色主题

### 2. 交互体验
- 操作流程简单直观
- 反馈信息及时明确
- 错误提示友好易懂
- 支持手势操作

### 3. 性能体验
- 应用启动时间 ≤ 3秒
- 页面切换流畅无卡顿
- 动画效果 60fps
- 内存占用 ≤ 200MB

### 4. 稳定性
- 应用崩溃率 ≤ 0.1%
- ANR发生率 ≤ 0.5%
- 网络异常处理完善
- 离线功能支持

---

## 国际化需求

### 1. 多语言支持
- 中文 (简体)
- 英文
- 语言切换功能
- 本地化适配

### 2. 文化适配
- 货币格式本地化
- 日期时间格式
- 数字格式化
- 文化习惯适配

### 3. 法规合规
- 不同地区法规适配
- 隐私政策本地化
- 服务协议本地化
- 监管要求适配

---

## 第三方集成需求

### 1. 支付集成
- 银行卡支付
- 第三方支付平台
- 加密货币支付
- 多币种结算

### 2. 身份认证集成
- 身份证OCR服务
- 人脸识别服务
- 活体检测服务
- 反欺诈服务

### 3. 数据服务集成
- 实时行情数据
- 汇率数据服务
- 短信通知服务
- 邮件通知服务

### 4. 社交媒体集成
- 分享功能
- 登录授权
- 好友邀请
- 消息推送

---

## 技术架构需求

### 1. 前端技术栈
- Flutter 框架
- BLoC状态管理
- 响应式布局设计
- 国际化支持

### 2. 后端技术栈
- Rust语言
- Actix-Web框架
- Actor模型聊天
- PostgreSQL数据库

### 3. 数据库设计
- 用户数据表
- 交易记录表
- 订单数据表
- 日志记录表

### 4. 系统集成
- RESTful API设计
- WebSocket实时通信
- 消息队列系统
- 缓存系统

---

## 测试需求

### 1. 功能测试
- 单元测试覆盖率 ≥ 80%
- 集成测试完整
- 端到端测试自动化
- 用户验收测试

### 2. 性能测试
- 负载测试
- 压力测试
- 稳定性测试
- 兼容性测试

### 3. 安全测试
- 渗透测试
- 漏洞扫描
- 代码安全审计
- 数据安全测试

### 4. 用户体验测试
- 可用性测试
- A/B测试
- 用户反馈收集
- 性能监控

---

## 部署和运维需求

### 1. 部署环境
- 开发环境
- 测试环境
- 预生产环境
- 生产环境

### 2. 监控告警
- 系统性能监控
- 业务指标监控
- 错误日志监控
- 安全事件监控

### 3. 备份恢复
- 数据库备份
- 文件备份
- 配置备份
- 灾难恢复

### 4. 版本管理
- 代码版本控制
- 数据库版本管理
- 配置版本管理
- 发布流程管理

---

## 项目时间规划

### 第一阶段 (4周)
- 用户认证模块开发
- 基础框架搭建
- 数据库设计
- API接口开发

### 第二阶段 (6周)
- 算力管理模块
- 空投活动模块
- 资产中心模块
- 基础UI实现

### 第三阶段 (4周)
- 任务系统模块
- 邀请奖励模块
- 聊天客服模块
- 系统集成测试

### 第四阶段 (3周)
- KYC认证模块
- 图表分析模块
- 性能优化
- 安全加固

### 第五阶段 (3周)
- 全面测试
- 部署上线
- 用户培训
- 运维支持

---

## 成功标准

### 1. 功能完整性
- 所有需求功能100%实现
- 业务流程完整闭环
- 异常情况处理完善
- 用户体验良好

### 2. 性能指标
- 响应时间达标
- 并发能力达标
- 系统稳定性达标
- 数据准确性达标

### 3. 安全标准
- 通过安全测试
- 符合监管要求
- 数据保护到位
- 风险控制有效

### 4. 用户满意度
- 用户满意度 ≥ 90%
- 应用商店评分 ≥ 4.0
- 日活跃用户达标
- 留存率达标

---

## 风险评估

### 1. 技术风险
- 新技术应用风险
- 性能瓶颈风险
- 安全漏洞风险
- 第三方依赖风险

### 2. 业务风险
- 需求变更风险
- 竞争对手风险
- 市场变化风险
- 政策法规风险

### 3. 项目风险
- 进度延期风险
- 成本超支风险
- 人员流动风险
- 质量风险

### 4. 风险应对
- 技术预研和验证
- 敏捷开发方法
- 持续集成部署
- 定期风险评估

---

这份需求文档涵盖了Coin项目的所有核心功能需求，为后续的Rust后端开发提供了详细的规范和指导。每个功能模块都包含了具体的需求描述、功能要求、业务流程和验收标准，确保开发团队能够准确理解和实现项目需求。